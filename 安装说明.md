# 安装说明

## 系统要求

- ComfyUI 已正确安装并运行
- Python 3.8 或更高版本
- 网络连接（用于调用API）

## 安装步骤

### 1. 安装插件

将本插件文件夹 `ComfyUI_RN_Transtor` 复制到 ComfyUI 的 `custom_nodes` 目录下：

```bash
# Windows 路径示例
cd ComfyUI\custom_nodes
git clone [项目地址] ComfyUI_RN_Transtor

# 或者手动复制整个文件夹到 custom_nodes 目录
```

### 2. 安装依赖

进入插件目录并安装所需的 Python 包：

```bash
cd ComfyUI\custom_nodes\ComfyUI_RN_Transtor
pip install openai
```

### 3. 重启 ComfyUI

安装完成后，重启 ComfyUI 服务：

```bash
# 如果通过命令行运行 ComfyUI
python main.py
```

### 4. 验证安装

1. 打开 ComfyUI 界面
2. 在节点列表中查找 "RN翻译" 分类
3. 应该能看到 "RN 翻译器" 节点

## 快速开始

### 获取 API 密钥

您需要从以下任一服务商获取 API 密钥：

- **OpenAI**: https://platform.openai.com/api-keys
- **DeepSeek**: https://platform.deepseek.com/apiKeys
- **通义千问**: https://dashscope.console.aliyun.com/apiKey
- **其他**: 查看对应服务商的文档

### 第一个翻译工作流

1. 添加 "RN 翻译器" 节点到工作区
2. 配置 API 信息：
   - API Base URL: 输入服务商提供的 URL
   - API Key: 输入您的 API 密钥
   - 模型: 输入模型名称（如 gpt-3.5-turbo）
3. 设置翻译参数：
   - 源文本: 输入要翻译的内容
   - 源语言: 选择输入文本的语言
   - 目标语言: 选择要翻译到的语言
   - 翻译风格: 选择合适的翻译风格
4. 连接显示节点查看结果

## 高级配置

### 自定义模型参数

您可以调整以下参数来优化翻译效果：

- **温度参数 (temperature)**: 控制输出的随机性
  - 0.1-0.3: 更确定、一致的翻译
  - 0.4-0.7: 平衡的翻译
  - 0.8-1.5: 更有创造性的翻译

- **系统提示词**: 自定义系统行为
  - 默认为专业翻译助手
  - 可根据具体需求自定义

### 批量翻译

要批量翻译多个文本，可以：

1. 使用多个翻译节点并行处理
2. 创建循环工作流
3. 使用文本处理节点预处理输入

## 故障排除

### 常见问题

#### 1. 节点未显示
- 检查插件是否正确安装到 `custom_nodes` 目录
- 确认已重启 ComfyUI
- 查看控制台是否有错误信息

#### 2. API 连接失败
- 检查网络连接
- 验证 API Base URL 是否正确
- 确认 API 密钥有效且未过期

#### 3. 翻译质量不佳
- 尝试不同的模型
- 调整温度参数
- 选择合适的翻译风格
- 检查源文本是否清晰

#### 4. 翻译超时
- 减少单次翻译的文本长度
- 检查网络延迟
- 考虑使用更快的模型

### 调试技巧

1. **查看控制台输出**: ComfyUI 启动时会显示加载的节点信息
2. **测试 API 连接**: 使用简单的文本来测试基本功能
3. **逐步调试**: 先测试基本翻译，再添加复杂功能
4. **检查参数**: 确保所有必需参数都已正确设置

## 更新插件

要更新到最新版本：

```bash
cd ComfyUI\custom_nodes\ComfyUI_RN_Transtor
git pull origin main
```

或者重新下载最新版本并替换旧文件。

## 卸载插件

如果需要卸载插件：

1. 关闭 ComfyUI
2. 删除 `ComfyUI\custom_nodes\ComfyUI_RN_Transtor` 文件夹
3. 重启 ComfyUI

## 技术支持

如遇到安装或使用问题：

1. 查看本说明文档
2. 检查 GitHub Issues
3. 创建新的 Issue 描述问题

请提供以下信息以便更好地帮助您：
- ComfyUI 版本
- 操作系统
- 错误信息（如果有）
- 复现步骤